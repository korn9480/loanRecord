<template>
    <div class="navbar">
      <a class="active" href="‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏•‡∏π‡∏Å‡∏´‡∏ô‡∏µ‡πâ.html">‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏•‡∏π‡∏Å‡∏´‡∏ô‡∏µ‡πâ</a>
      <a href="‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏ú‡∏•.html">‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏ú‡∏•</a>
      <a href="‡πÄ‡∏ä‡πá‡∏Ñ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞.html">‡πÄ‡∏ä‡πá‡∏Ñ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞</a>
      <a href="‡∏Ñ‡∏•‡∏±‡∏á‡∏ó‡∏£‡∏±‡∏û‡∏¢‡πå‡∏™‡∏¥‡∏ô.html">‡∏Ñ‡∏•‡∏±‡∏á‡∏ó‡∏£‡∏±‡∏û‡∏¢‡πå‡∏™‡∏¥‡∏ô</a>
      <a href="‡∏ú‡∏π‡πâ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡πÄ.html">‡∏ú‡∏π‡πâ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£</a>
      <a href="‡∏Å‡∏≠‡∏á‡∏ó‡∏∏‡∏ô.html">‡∏Å‡∏≠‡∏á‡∏ó‡∏∏‡∏ô</a>
      <a href="‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£.html">‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£</a>
      <a href="‡πÄ‡πÄ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô.html">‡πÄ‡πÄ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô</a>
      <a href="‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤.html">‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤</a>
    </div>
  
  
    <h2 style="text-align:center;">‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏•‡∏π‡∏Å‡∏´‡∏ô‡∏µ‡πâ</h2>
  
  
    <div class="search-container">
      <input type="text" id="searchInput" placeholder="‡∏û‡∏¥‡∏°‡∏û‡πå‡πÄ‡∏•‡∏Ç‡∏ö‡∏±‡∏ï‡∏£‡∏õ‡∏£‡∏∞‡∏ä‡∏≤‡∏ä‡∏ô...">
      <button type="button" onclick="searchTable()">‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡πÄ‡∏•‡∏Ç‡∏ö‡∏±‡∏ï‡∏£‡∏õ‡∏£‡∏∞‡∏ä‡∏≤‡∏ä‡∏ô</button>
    </div>
  
  
  
    <div class="row">
      <div class="column">
        <div class="search-container">
          <input type="text" id="newSearchInput1" placeholder="‡∏û‡∏¥‡∏°‡∏û‡πå‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£">
          <button type="button" onclick="customSearch1()">‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏ú‡∏π‡πâ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£</button>
        </div>
      </div>
      <div class="column">
        <div class="search-container">
          <input type="text" id="newSearchInput2" placeholder="‡∏û‡∏¥‡∏°‡∏û‡πå‡∏ä‡∏∑‡πà‡∏≠‡∏´‡∏±‡∏ß‡∏´‡∏ô‡πâ‡∏≤‡∏™‡∏≤‡∏Ç‡∏≤">
          <button type="button" onclick="customSearch2()">‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏´‡∏±‡∏ß‡∏´‡∏ô‡πâ‡∏≤‡∏™‡∏≤‡∏Ç‡∏≤</button>
        </div>
      </div>
      <div class="column">
        <div class="search-container">
          <input type="text" id="newSearchInput3" placeholder="‡∏û‡∏¥‡∏°‡∏û‡πå‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡∏£‡∏±‡∏ö‡∏î‡∏π‡πÄ‡πÄ‡∏•">
          <button type="button" onclick="customSearch3()">‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏ú‡∏π‡πâ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏î‡∏π‡πÄ‡πÄ‡∏•</button>
        </div>
      </div>
  
    </div>
  
  
  
  
    <div class="search-container2">
      <select id="statusFilter">
        <option value="" selected>‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</option>
        <option value="‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô‡∏™‡∏±‡∏ç‡∏ç‡∏≤">‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô‡∏™‡∏±‡∏ç‡∏ç‡∏≤</option>
        <option value="‡πÄ‡∏•‡∏¢‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏™‡∏±‡∏ç‡∏ç‡∏≤">‡πÄ‡∏•‡∏¢‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏™‡∏±‡∏ç‡∏ç‡∏≤</option>
        <option value="‡∏Ñ‡∏£‡∏ö‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏ä‡∏≥‡∏£‡∏∞">‡∏Ñ‡∏£‡∏ö‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏ä‡∏≥‡∏£‡∏∞</option>
        <option value="‡∏ä‡∏≥‡∏£‡∏∞‡∏Ñ‡∏£‡∏ö">‡∏ä‡∏≥‡∏£‡∏∞‡∏Ñ‡∏£‡∏ö</option>
        <option value="‡πÄ‡πÄ‡∏ö‡∏•‡πá‡∏Ñ‡∏•‡∏¥‡∏ä">‡πÄ‡πÄ‡∏ö‡∏•‡πá‡∏Ñ‡∏•‡∏¥‡∏ä</option>
      </select>
      <button type="button" onclick="searchIdCard2()">‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞</button>
    </div>
  
  
  
  
  
  
  
    <div class="row">
      <div class="column">
        <div style="text-align: center;">‡∏¢‡∏≠‡∏î‡πÄ‡∏á‡∏¥‡∏ô‡∏£‡∏ß‡∏°‡∏ï‡∏≤‡∏°‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞</div>
        <div id="totalPrincipalAmount" style="text-align: center;">‡πÄ‡∏á‡∏¥‡∏ô‡∏ï‡πâ‡∏ô‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î:</div>
        <div id="totalInterestAmount" style="text-align: center;">‡∏î‡∏≠‡∏Å‡πÄ‡∏ö‡∏µ‡πâ‡∏¢‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î:</div>
        <div id="totalRefundAmount" style="text-align: center;">‡πÄ‡∏á‡∏¥‡∏ô‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Ñ‡∏∑‡∏ô‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</div>
      </div>
      <div class="column">
        <div id="totalid_card" style="text-align: center;"></div>
        <div id="totalDebtorsInContract" style="text-align: center;"></div>
        <div id="debtorsWithContracts" style="text-align: center;"></div>
        <div id="debtorsWhoExceededContracts" style="text-align: center;"></div>
        <div id="fullyPaidDebtors" style="text-align: center;"></div>
        <div id="debtorsBlacklist" style="text-align: center;"></div>
      </div>
      <div class="column">
        <div style="text-align: center;">‡∏¢‡∏≠‡∏î‡πÄ‡∏á‡∏¥‡∏ô‡∏£‡∏ß‡∏°‡∏™‡∏∞‡∏™‡∏°</div>
        <div id="totalPrincipal" style="text-align: center;"></div>
        <div id="totalAccumulatedInterest" style="text-align: center;"></div>
        <div id="totalNetProfit" style="text-align: center;"></div>
      </div>
    </div>
  
  
  
  
    <div class="button-container">
      <button class="custom-button" onclick="window.location.href='‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏•‡∏π‡∏Å‡∏´‡∏ô‡∏µ‡πâ.html';">
        <a href="‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏•‡∏π‡∏Å‡∏´‡∏ô‡∏µ‡πâ.html" class="button-link">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏•‡∏π‡∏Å‡∏´‡∏ô‡∏µ‡πâ</a>
      </button>
    </div>
  
  
  
  
  
  
  
    <table id="your_table_id">
      <thead>
        <tr>
          <th>‡∏•‡∏≥‡∏î‡∏±‡∏ö</th>
          <th>‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</th>
          <th>‡πÄ‡∏•‡∏Ç‡∏ö‡∏±‡∏ï‡∏£‡∏õ‡∏£‡∏∞‡∏ä‡∏≤‡∏ä‡∏ô</th>
          <th>‡∏ä‡∏∑‡πà‡∏≠</th>
          <th>‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏•</th>
          <th>‡πÄ‡∏á‡∏¥‡∏ô‡∏ï‡πâ‡∏ô</th>
          <th>‡∏î‡∏≠‡∏Å‡πÄ‡∏ö‡∏µ‡πâ‡∏¢</th>
          <th>‡πÄ‡∏á‡∏¥‡∏ô‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Ñ‡∏∑‡∏ô</th>
          <th>‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞</th>
          <th>‡πÄ‡∏á‡∏¥‡∏ô‡∏ï‡πâ‡∏ô‡∏™‡∏∞‡∏™‡∏°</th>
          <th>‡∏î‡∏≠‡∏Å‡πÄ‡∏ö‡∏µ‡πâ‡∏¢‡∏™‡∏∞‡∏™‡∏°</th>
          <th>‡∏Å‡∏≥‡πÑ‡∏£‡∏™‡∏∏‡∏ó‡∏ò‡∏¥‡∏™‡∏∞‡∏™‡∏°</th>
          <th>‡∏ú‡∏π‡πâ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£</th>
          <th>‡∏ú‡∏π‡πâ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏î‡∏π‡πÅ‡∏•</th>
          <th>‡∏´‡∏±‡∏ß‡∏´‡∏ô‡πâ‡∏≤‡∏™‡∏≤‡∏Ç‡∏≤</th>
          <th>‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£</th>
          <th>‡∏™‡∏±‡∏ç‡∏ç‡∏≤</th>
        </tr>
      </thead>
      <tbody id="debtor-table-body">
        <tr id="app" v-for="(item,index) in items">
          <td>{{ index +1 }}</td> <!-- Reverse the index -->
          <td>{{ item.date }}</td>
          <td>{{item.id_card_number}}</td>
          <td>{{ item.fname }}</td>
          <td>{{ item.lname }}</td>
          <td>-</td>
          <td>-</td>
          <td>-</td>
          <td>-</td>
          <td>-</td>
          <td>-</td>
          <td>-</td>
          <td>-</td>
          <td>-</td>
          <td>-</td>
          <td>
            <button onclick="redirectToEdit('${row._id}')">‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç</button>
            <button onclick="redirectToDelete('${row._id}')">‡∏•‡∏ö</button>
          </td>
          <td><router-link :to="{path:'/lond/'+item._id}">‡∏™‡∏±‡∏ç‡∏ç‡∏≤</router-link></td>
        </tr>
      </tbody>
    </table>
  </template>
  
  
<style>
  .navbar {
    overflow: hidden;
    background-color: #333;
    position: fixed;
    top: 0;
    width: 100%;
    left: 0;
    right: 0;
  }
  
  .navbar a {
    float: left;
    display: block;
    color: white;
    text-align: center;
    padding: 14px 20px;
    text-decoration: none;
  }
  
  .navbar a:hover {
    background-color: #ddd;
    color: black;
  }
  
  .navbar a.active {
    background-color: #555;
    color: white;
  }
  
  
  body {
    font-family: Arial, sans-serif;
    background-color: #ffffff;
    margin-top: 100px;
  }
  
  .container {
    width: 60%;
    margin: auto;
    margin-top: 50px;
  }
  
  table {
    border-collapse: collapse;
    width: 100%;
    margin: auto;
    margin-top: 80px;
  }
  
  th,
  td {
    border: 1px solid #dddddd;
    text-align: center;
    padding: 8px;
  }
  
  th {
    background-color: #333;
    color: white;
  }
  
  tr:nth-child(even) {
    background-color: #f2f2f2;
  }
  
  
  
  .search-container {
    display: flex;
    justify-content: center;
    margin-bottom: 20px;
  }
  
  .search-container input[type=text] {
    padding: 10px;
    border: 1px solid #ccc;
    border-radius: 4px;
    outline: none;
  }
  
  .search-container button {
    background-color: #4CAF50;
    color: white;
    padding: 10px 20px;
    border: none;
    border-radius: 4px;
    cursor: pointer;
  }
  
  .search-container button:hover {
    background-color: #45a049;
  }
  
  
  
  .search-container2 {
    display: flex;
    justify-content: center;
    align-items: center;
    /* ‡∏à‡∏±‡∏î‡πÉ‡∏´‡πâ‡∏≠‡∏¢‡∏π‡πà‡∏ï‡∏£‡∏á‡∏Å‡∏•‡∏≤‡∏á‡∏ï‡∏≤‡∏°‡πÅ‡∏ô‡∏ß‡∏ï‡∏±‡πâ‡∏á */
    margin-bottom: 20px;
  }
  
  .search-container2 input[type=text] {
    padding: 10px;
    border: 1px solid #ccc;
    border-radius: 4px;
    outline: none;
    margin-right: 5px;
    /* ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏£‡∏∞‡∏¢‡∏∞‡∏´‡πà‡∏≤‡∏á‡∏Ç‡∏≠‡∏á input ‡∏Å‡∏±‡∏ö‡∏õ‡∏∏‡πà‡∏°‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤ */
  }
  
  .search-container2 button {
    background-color: #4CAF50;
    color: white;
    padding: 10px 20px;
    border: none;
    border-radius: 4px;
    cursor: pointer;
  }
  
  .search-container2 button:hover {
    background-color: #45a049;
  }
  
  .search-container2 select {
    padding: 10px;
    border: 1px solid #ccc;
    border-radius: 4px;
    outline: none;
    margin-left: 5px;
    /* ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏£‡∏∞‡∏¢‡∏∞‡∏´‡πà‡∏≤‡∏á‡∏Ç‡∏≠‡∏á‡∏õ‡∏∏‡πà‡∏°‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤ ‡∏Å‡∏±‡∏ö dropdown */
  }
  
  
  .button-container {
    text-align: center;
    margin-top: 20px;
  }
  
  .custom-button {
    background-color: #4CAF50;
    color: white;
    padding: 10px 20px;
    border: none;
    border-radius: 4px;
    cursor: pointer;
  }
  
  .custom-button:hover {
    background-color: #45a049;
  }
  
  .button-link {
    text-decoration: none;
    color: white;
  }
  
  
  /* Common styles */
  .column {
    float: left;
    width: 33.33%;
    padding: 0 15px;
    box-sizing: border-box;
  }
  
  /* Style for totalDebtorsInContract */
  #totalDebtorsInContract {
    font-size: 16px;
    color: #000000;
    margin-top: 5px;
  }
  
  /* Style for totalIDCard */
  #totalIDCard {
    font-size: 16px;
    color: #000000;
    margin-top: 5px;
  }
  
  /* Style for debtorsWithInterest */
  #debtorsWithInterest {
    font-size: 16px;
    color: #000000;
    margin-top: 5px;
  }
  
  /* Style for debtorsWithContracts */
  #debtorsWithContracts {
    font-size: 16px;
    color: #000000;
    margin-top: 5px;
  }
  
  #debtorsWhoExceededContracts {
    font-size: 16px;
    color: #000000;
    margin-top: 5px;
  }
  
  /* Style for fullyPaidDebtors */
  #fullyPaidDebtors {
    font-size: 16px;
    color: #000000;
    margin-top: 5px;
  }
  
  /* Style for debtorsBlacklist */
  #debtorsBlacklist {
    font-size: 16px;
    color: #000000;
    margin-top: 5px;
  }
  
  /* Style for totalPrincipalAmount */
  #totalPrincipalAmount {
    font-size: 16px;
    color: #000000;
    margin-top: 5px;
  }
  
  /* Style for totalInterestAmount */
  #totalInterestAmount {
    font-size: 16px;
    color: #000000;
    margin-top: 5px;
  }
  
  /* Style for totalRefundAmount */
  #totalRefundAmount {
    font-size: 16px;
    color: #000000;
    margin-top: 5px;
  }
  
  /* Style for totalPrincipal */
  #totalPrincipal {
    font-size: 16px;
    color: #000000;
    margin-top: 5px;
  }
  
  /* Style for totalShare */
  #totalAccumulatedInterest {
    font-size: 16px;
    color: #000000;
    margin-top: 5px;
  }
  
  /* Style for totalNetProfit */
  #totalNetProfit {
    font-size: 16px;
    color: #000000;
    margin-top: 5px;
  }
  
  /* Clear floats after the columns */
  .row:after {
    content: "";
    display: table;
    clear: both;
  }
  
  
  
  .s {
    color: green;
  }
  
  .b {
    color: red;
  }
  
  .w {
    color: rgb(26, 133, 233);
  }
  
  .l {
    color: rgb(242, 160, 9);
  }
  
  .d {
    color: rgb(248, 7, 204)
  }
</style>
  
  <script>
  import axios from 'axios';
  
  export default {
    data() {
      return {
        items: []
      };
    },
    mounted() {
      console.log("dkdkdk")
      this.fetchData();
    },
    methods: {
      async fetchData() {
        try {
          const response = await axios.get('http://localhost:3000/api/debtor-data');
          this.items = response.data;
          console.log("üöÄ ~ fetchData ~ items:", items)
        } catch (error) {
          console.error('Error fetching data:', error);
        }
      }
    }
  };
  </script>